#include <AlfredLogger.mqh>

AlfredLogger logger;
input bool logToFile = true;

int OnInit()
{
   // sync the EAâ€™s input switch into global settings
   Alfred.logToFile = logToFile;

   Print("ðŸŸ¡ OnInit started");
   if(logToFile)
   {
      logger.Init();
      // â€¦
   {
      Print("ðŸŸ¢ Logger init starting");
      logger.Init();
      Print("ðŸŸ¢ Logger init complete");

      logger.LogEvent(
         TimeCurrent(),
         _Symbol,
         PERIOD_CURRENT,
         "InitLog",
         100.0,
         SymbolInfoDouble(_Symbol, SYMBOL_ASK)
      );
      Print("ðŸŸ¢ LogEvent fired");
   }

   return INIT_SUCCEEDED;
}

void OnTick() {}
